## 隐式转换的坑



有赖于js松散的语法，使得数字与字符串互相转换，随即出来的坑也出来了，

其中数字与字符串的坑如下：

1. 隐式转换



### 1.隐式转换

###### 内容前的号

问题：下面的num的值是多少？ 



1.  **num = 11 + "1.3";**
2. **num = "10"-2**;
3. **num = -2+"10";**
4. **num = -2+     -"10"**
5. **num = -2+     +"10"**
6. **num = -2 -    -"10"** 
7. **num =  -2   -    -    -"10"**
8. num =  -2 -  -  -  - "10"
9. **num = + "1.3"+11;**
10. **num = - "1.3"+11;**
11. **num = + 11 +"1.5";**
12. **num = +"1.5"+"1.5"+11;**
13. **num  = +"1.5" +1.5+"11"**
14. **num = +"0.1" +       + "3"**
15. **num = "1.0" * 11;**
16. **num = "2" / 10;**

答案:

1. 111.3		(number)
2. 8			(number)
3. "-210"		(string)
4. -12			(number)
5. 8			(number)
6. 8			(number)
7. -12			(number)
8. 8			(number)
9. 12.3		(number)
10. 9.7			(number)
11. "111.5" 		(string)
12. "1.51.511"	(string)
13. "311"		(string)
14. 3.1			(number)
15. 11			(number)
16. 0.2			(number)

看完答案是否跟自己的预想有所差距？

虽然答案各不同，但我能从中可以得出结论

### 结论：字符串与数值中的隐式转换中，

字符串与数值相加  字符串相连 顺序不影响结果

`+` `-`

1. **num = -2+     -"10"**
2. **num = -2+     +"10"**
3. **num = -2 -    -"10"** //什么鬼
4. **num =  -2   -    -    -"10"**
5. num =  -2 -  -  -  - "10"





在**字符串前面**加 `+ ` `-`号 可使得字符串转化为数值。

**规律一**

其中，只转换`+` 号后的第一个字符串，**后续的字符串不予转换**

**规律二**

其中 `-` 号 对应的是`-`号**前面与后面**的字符串转换

如**num = "10"-2**;    //8

​    **num = -2+"10"**  // "-210" 

​    **num = "10"-"2";** //8

**规律三**

当运算当中出现多个`+` `-`号 会使用同号得正 异号得负的规则

例:num =  -2 -  -  -  - "10"

结果:8



另一个问题

1. ​	 null > 0
2.  	null<0
3. ​	null == 0
4. ​	null>=0
5. ​	null <= 0

得多少？



答案：

1. ​	false
2. ​	false
3. ​	false
4. ​	true
5. ​	true



惊不惊喜？意不意外？233333

原理:

**关系运算符**,在设计上,总是需要运算元**尝试转为一个number** . 而**相等运算符**在设计上,则**没有这方面的考虑 其是逐位比较**

```javascript
null > 0 //  null 尝试转型为number , 则为0 . 所以结果为 false, 
null >= 0 //  null 尝试转为number ,则为0 , 结果为 true. 
null == 0 // null在设计上，在此处不尝试转型. 所以 结果为false.
```

其他转换特例：

1. **+[10]  // 10**


问题

if([]){console.log("haha")}else{console.log("xixi")}

答案输出哈哈



空数组[]，在+运算符下是转为空字符串''，在*运算符下是转为数字0。但在if语句中，则转为true。

#### 有关隐式转换的

[归纳网站1](https://www.jb51.net/article/122519.htm)

[归纳网站2](https://www.jb51.net/article/122992.htm)

[在javascript中，null＞=0 为真，null==0却为假，null到底是什么？](https://www.jianshu.com/p/97a8f9c10572)

